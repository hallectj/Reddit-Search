{"version":3,"sources":["redditapi.js","index.js"],"names":["search","searchTerm","limit","sortBy","proxy","fetch","then","results","json","data","children","map","searchBtn","document","getElementById","searchDiv","timer","addEventListener","e","checkForTextInSearchBar","preventDefault","clearTimeout","radioSelection","querySelector","value","numLimit","options","selectedIndex","displayMessage","reddit","console","log","output","image","i","preview","images","source","url","title","shortenText","selftext","innerHTML","max","text","length","substr","indexOf","target","style","display","msg","className","message","searchHasWords","setTimeout"],"mappings":"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","file":"findIt.e31bb0bc.map","sourceRoot":"..","sourcesContent":["export default {\r\n    search: function(searchTerm, limit, sortBy){\r\n        const proxy = 'https://cors-anywhere.herokuapp.com/';  \r\n        return fetch(proxy + `http://www.reddit.com/search.json?q=${searchTerm}&sort=${sortBy}&limit=${limit}`)\r\n        .then(results => results.json())\r\n        .then(data => data.data.children.map(data => data.data));\r\n    }\r\n};","import reddit from './redditapi';\r\n\r\nlet searchBtn = document.getElementById(\"searchBtn\");\r\nlet limit = document.getElementById(\"limit\");\r\nlet searchDiv = document.getElementById(\"searchTerm\");\r\nvar timer = null;\r\n\r\nsearchBtn.addEventListener(\"click\", function(e){\r\n    checkForTextInSearchBar();\r\n    e.preventDefault();\r\n    clearTimeout(timer);\r\n    let radioSelection = document.querySelector('input[name=\"sortby\"]:checked').value;\r\n    let numLimit = limit.options[limit.selectedIndex].value;\r\n    let searchTerm = searchDiv.value;\r\n\r\n    //will only display if user has blank field in search bar and submits\r\n    displayMessage(searchTerm, \"Type something to search\", \"alert alert-danger\");\r\n\r\n    reddit.search(searchTerm, numLimit, radioSelection).then(results => {\r\n        console.log(results);\r\n\r\n        let output = \"<div class='card-columns card-columns-custom'>\";\r\n        let image = \"https://fh-uploads-hzscjv5a1k85do6fzz7kdmffiwhxul5bcoakysrttzf.netdna-ssl.com/582ab36d-a58b-449e-8e57-784dea3eeb09\";\r\n\r\n        for(var i = 0; i<numLimit; i++){\r\n            if(results[i].preview){\r\n                image = results[i].preview.images[0].source.url;\r\n            }\r\n            output += `<div class=\"card card-custom\" style=\"width: 18rem;\">\r\n                <img class=\"card-img-top\" src=\"${image}\" alt=\"Card image cap\">\r\n                <div class=\"card-body\">\r\n                    <h5 class=\"card-title\">${results[i].title}</h5>\r\n                    <p class=\"card-text\">${shortenText(100, results[i].selftext)}</p>\r\n                    <a href=\"${results[i].url}\" class=\"btn btn-primary\">Read More</a>\r\n                </div>\r\n            </div>`\r\n        }\r\n\r\n        output += \"</div>\";\r\n        document.getElementById(\"results\").innerHTML = output;\r\n    });\r\n\r\n}, false);\r\n\r\nfunction shortenText(max, text){\r\n    if(text.length >= max){\r\n        return text.substr(max, text.length).indexOf(\" \"); \r\n    }else if(text.length < max || text == \"\"){\r\n        return text;\r\n    }      \r\n}\r\n\r\nfunction checkForTextInSearchBar(){\r\n    document.getElementById(\"searchTerm\").addEventListener('input', function(e){\r\n        if(e.target.value != \"\"){\r\n            clearTimeout(timer);\r\n            document.getElementById(\"messageDiv\").style.display = \"none\";\r\n        }\r\n    }, false);\r\n}\r\n\r\nfunction displayMessage(text, msg, className){\r\n    let message = document.getElementById(\"messageDiv\");\r\n    var searchHasWords = false;\r\n    if(text == \"\"){\r\n        message.className = className;\r\n        message.style.display = \"block\";\r\n        message.innerHTML = msg;\r\n\r\n        timer = setTimeout(function(){\r\n            message.style.display = \"none\";\r\n        }, 4000);\r\n    }\r\n}"]}